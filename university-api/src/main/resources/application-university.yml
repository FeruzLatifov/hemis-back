# ============================================================================
# UNIVERSITY API MODULE CONFIGURATION
# ============================================================================
#
# VAZIFASI:
# ---------
# University API module uchun sozlamalar. Bu fayl app module tomonidan
# yuklanadi (application.yml ichida profile sifatida).
#
# QANDAY ISHLATILADI:
# -------------------
# 1. App module ishga tushganda Spring Boot bu fayl'ni o'qiydi
# 2. Bu yerda faqat university-api specific sozlamalar bo'ladi
# 3. Asosiy sozlamalar app/application.yml da
#
# ============================================================================

# ============================================
# UNIVERSITY API SETTINGS
# ============================================
university:
  api:
    # CUBA Services base path
    # URL Pattern: /app/rest/v2/services/hemishe_*
    base-path: /app/rest/v2/services

    # Rate limiting (har bir universitet uchun)
    rate-limit:
      enabled: true
      max-requests: 100      # 100 request per minute
      duration: 60s          # 60 soniya

  cuba:
    services:
      # CUBA service prefix (OLD-HEMIS compatible)
      prefix: hemishe_

      # Timeout settings
      timeout: 30s

      # Response caching (optional)
      cache:
        enabled: true
        ttl: 300s            # 5 minut cache

# ============================================
# LOGGING CONFIGURATION
# ============================================
logging:
  level:
    uz.hemis.university: DEBUG           # University API debug mode
    uz.hemis.university.controller: INFO # Controller log'lar
    uz.hemis.university.service: DEBUG   # Service log'lar

# ============================================
# MONITORING & METRICS
# ============================================
management:
  endpoints:
    web:
      exposure:
        include: health,metrics,prometheus
  metrics:
    tags:
      module: university-api              # Bu module'ning metric'lari
